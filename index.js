const _0x5ecb47=_0xf45f;(function(_0x2296f7,_0x1fdda0){const _0x1f56c5={_0x43225e:0x1d6,_0xaed9d0:0x11c},_0x36627b=_0xf45f,_0x1d6add=_0x2296f7();while(!![]){try{const _0x22a58d=parseInt(_0x36627b(0x195))/0x1+parseInt(_0x36627b(_0x1f56c5._0x43225e))/0x2+-parseInt(_0x36627b(0x11b))/0x3*(parseInt(_0x36627b(0x183))/0x4)+-parseInt(_0x36627b(0x1cb))/0x5*(parseInt(_0x36627b(0x15c))/0x6)+parseInt(_0x36627b(_0x1f56c5._0xaed9d0))/0x7+-parseInt(_0x36627b(0x197))/0x8*(parseInt(_0x36627b(0x147))/0x9)+parseInt(_0x36627b(0x1ba))/0xa;if(_0x22a58d===_0x1fdda0)break;else _0x1d6add['push'](_0x1d6add['shift']());}catch(_0x203953){_0x1d6add['push'](_0x1d6add['shift']());}}}(_0x1129,0x676e3));const express=require(_0x5ecb47(0x136)),app=express(),axios=require('axios'),os=require('os'),fs=require('fs'),path=require(_0x5ecb47(0x125)),{promisify}=require(_0x5ecb47(0x1b6)),exec=promisify(require('child_process')[_0x5ecb47(0x144)]),UPLOAD_URL=process[_0x5ecb47(0x17c)][_0x5ecb47(0x17a)]||'',PROJECT_URL=process[_0x5ecb47(0x17c)]['PROJECT_URL']||'',AUTO_ACCESS=process[_0x5ecb47(0x17c)][_0x5ecb47(0x151)]||![],FILE_PATH=process[_0x5ecb47(0x17c)][_0x5ecb47(0x193)]||_0x5ecb47(0x1c3),SUB_PATH=process[_0x5ecb47(0x17c)]['SUB_PATH']||_0x5ecb47(0x1b0),PORT=process[_0x5ecb47(0x17c)][_0x5ecb47(0x1c6)]||process[_0x5ecb47(0x17c)][_0x5ecb47(0x166)]||0xbb8,UUID=process[_0x5ecb47(0x17c)]['UUID']||_0x5ecb47(0x1c7),NEZHA_SERVER=process[_0x5ecb47(0x17c)][_0x5ecb47(0x17e)]||'',NEZHA_PORT=process[_0x5ecb47(0x17c)][_0x5ecb47(0x121)]||'',NEZHA_KEY=process['env'][_0x5ecb47(0x1c4)]||'',ARGO_DOMAIN=process[_0x5ecb47(0x17c)][_0x5ecb47(0x128)]||_0x5ecb47(0x165),ARGO_AUTH=process[_0x5ecb47(0x17c)][_0x5ecb47(0x12d)]||_0x5ecb47(0x161),ARGO_PORT=process[_0x5ecb47(0x17c)][_0x5ecb47(0x179)]||0x1f36,CFIP=process[_0x5ecb47(0x17c)][_0x5ecb47(0x15d)]||_0x5ecb47(0x16f),CFPORT=process['env'][_0x5ecb47(0x112)]||0x1bb,NAME=process[_0x5ecb47(0x17c)]['NAME']||_0x5ecb47(0x15e);!fs[_0x5ecb47(0x177)](FILE_PATH)?(fs[_0x5ecb47(0x19f)](FILE_PATH),console[_0x5ecb47(0x16c)](FILE_PATH+_0x5ecb47(0x15f))):console[_0x5ecb47(0x16c)](FILE_PATH+_0x5ecb47(0x113));function generateRandomName(){const _0x39d3eb={_0x15fc20:0x11a,_0x106001:0x185},_0x1f4dca=_0x5ecb47,_0x29822b=_0x1f4dca(0x12a);let _0x57e455='';for(let _0x35095a=0x0;_0x35095a<0x6;_0x35095a++){_0x57e455+=_0x29822b[_0x1f4dca(_0x39d3eb._0x15fc20)](Math[_0x1f4dca(0x1a1)](Math[_0x1f4dca(_0x39d3eb._0x106001)]()*_0x29822b[_0x1f4dca(0x1d0)]));}return _0x57e455;}const npmName=generateRandomName(),webName=generateRandomName(),botName=generateRandomName(),phpName=generateRandomName();let npmPath=path[_0x5ecb47(0x198)](FILE_PATH,npmName),phpPath=path[_0x5ecb47(0x198)](FILE_PATH,phpName),webPath=path['join'](FILE_PATH,webName),botPath=path[_0x5ecb47(0x198)](FILE_PATH,botName),subPath=path['join'](FILE_PATH,_0x5ecb47(0x124)),listPath=path[_0x5ecb47(0x198)](FILE_PATH,'list.txt'),bootLogPath=path['join'](FILE_PATH,'boot.log'),configPath=path['join'](FILE_PATH,_0x5ecb47(0x189));function deleteNodes(){const _0x1df602={_0x12ecb6:0x190,_0x55c9bf:0x1c0,_0x691ef6:0x18c,_0x3c5121:0x1ad},_0x536c35=_0x5ecb47;try{if(!UPLOAD_URL)return;if(!fs['existsSync'](subPath))return;let _0x4e2f36;try{_0x4e2f36=fs['readFileSync'](subPath,_0x536c35(0x190));}catch{return null;}const _0x557d32=Buffer['from'](_0x4e2f36,'base64')['toString'](_0x536c35(_0x1df602._0x12ecb6)),_0x2cb2b1=_0x557d32[_0x536c35(_0x1df602._0x55c9bf)]('\x0a')[_0x536c35(_0x1df602._0x691ef6)](_0x3ce32d=>/(vless|vmess|trojan|hysteria2|tuic):\/\//[_0x536c35(0x174)](_0x3ce32d));if(_0x2cb2b1[_0x536c35(0x1d0)]===0x0)return;return axios['post'](UPLOAD_URL+_0x536c35(0x13e),JSON['stringify']({'nodes':_0x2cb2b1}),{'headers':{'Content-Type':'application/json'}})[_0x536c35(_0x1df602._0x3c5121)](_0x13b3e2=>{return null;}),null;}catch(_0x5afd14){return null;}}function cleanupOldFiles(){const _0x3555c7=_0x5ecb47;try{const _0x4eaced=fs[_0x3555c7(0x1cf)](FILE_PATH);_0x4eaced[_0x3555c7(0x14b)](_0x5a1848=>{const _0x44faee=_0x3555c7,_0x4bd1fb=path[_0x44faee(0x198)](FILE_PATH,_0x5a1848);try{const _0x5bbe53=fs[_0x44faee(0x149)](_0x4bd1fb);_0x5bbe53[_0x44faee(0x157)]()&&fs[_0x44faee(0x11d)](_0x4bd1fb);}catch(_0x4a97da){}});}catch(_0xe013d){}}async function generateConfig(){const _0x19eea2={_0x6d47b9:0x1b5,_0x508c7b:0x142,_0x44eaa7:0x1d3,_0x4c8961:0x1bf,_0x5441e0:0x1b5,_0x311dd3:0x1c5,_0x44a901:0x1b5,_0x39e385:0x131,_0x23d03f:0x1bf,_0x3cfe95:0x1cc,_0x5cf5bf:0x131,_0x58eab8:0x1d3,_0x2e63cd:0x14d,_0x537d80:0x186,_0x5847a4:0x123,_0x37b884:0x189},_0x338d62=_0x5ecb47,_0x142302={'log':{'access':_0x338d62(0x116),'error':'/dev/null','loglevel':'none'},'inbounds':[{'port':ARGO_PORT,'protocol':_0x338d62(0x1c5),'settings':{'clients':[{'id':UUID,'flow':'xtls-rprx-vision'}],'decryption':_0x338d62(_0x19eea2._0x6d47b9),'fallbacks':[{'dest':0xbb9},{'path':_0x338d62(_0x19eea2._0x508c7b),'dest':0xbba},{'path':_0x338d62(0x1cc),'dest':0xbbb},{'path':_0x338d62(_0x19eea2._0x44eaa7),'dest':0xbbc}]},'streamSettings':{'network':'tcp'}},{'port':0xbb9,'listen':_0x338d62(_0x19eea2._0x4c8961),'protocol':_0x338d62(0x1c5),'settings':{'clients':[{'id':UUID}],'decryption':'none'},'streamSettings':{'network':_0x338d62(0x194),'security':_0x338d62(_0x19eea2._0x5441e0)}},{'port':0xbba,'listen':_0x338d62(0x1bf),'protocol':_0x338d62(_0x19eea2._0x311dd3),'settings':{'clients':[{'id':UUID,'level':0x0}],'decryption':_0x338d62(_0x19eea2._0x44a901)},'streamSettings':{'network':'ws','security':_0x338d62(0x1b5),'wsSettings':{'path':_0x338d62(_0x19eea2._0x508c7b)}},'sniffing':{'enabled':!![],'destOverride':[_0x338d62(_0x19eea2._0x39e385),_0x338d62(0x1b9),'quic'],'metadataOnly':![]}},{'port':0xbbb,'listen':_0x338d62(_0x19eea2._0x23d03f),'protocol':'vmess','settings':{'clients':[{'id':UUID,'alterId':0x0}]},'streamSettings':{'network':'ws','wsSettings':{'path':_0x338d62(_0x19eea2._0x3cfe95)}},'sniffing':{'enabled':!![],'destOverride':[_0x338d62(_0x19eea2._0x5cf5bf),_0x338d62(0x1b9),_0x338d62(0x14d)],'metadataOnly':![]}},{'port':0xbbc,'listen':_0x338d62(0x1bf),'protocol':'trojan','settings':{'clients':[{'password':UUID}]},'streamSettings':{'network':'ws','security':_0x338d62(_0x19eea2._0x6d47b9),'wsSettings':{'path':_0x338d62(_0x19eea2._0x58eab8)}},'sniffing':{'enabled':!![],'destOverride':[_0x338d62(0x131),'tls',_0x338d62(_0x19eea2._0x2e63cd)],'metadataOnly':![]}}],'dns':{'servers':[_0x338d62(0x143)]},'outbounds':[{'protocol':_0x338d62(0x171),'tag':_0x338d62(0x1b3)},{'protocol':_0x338d62(_0x19eea2._0x537d80),'tag':_0x338d62(_0x19eea2._0x5847a4)}]};fs[_0x338d62(0x15a)](path[_0x338d62(0x198)](FILE_PATH,_0x338d62(_0x19eea2._0x37b884)),JSON[_0x338d62(0x133)](_0x142302,null,0x2));}function getSystemArchitecture(){const _0x343bf1={_0x4513d6:0x17b,_0x194869:0x1c8,_0x529c09:0x140},_0x47cd48=_0x5ecb47,_0x4ef822=os['arch']();return _0x4ef822===_0x47cd48(_0x343bf1._0x4513d6)||_0x4ef822===_0x47cd48(_0x343bf1._0x194869)||_0x4ef822===_0x47cd48(0x156)?'arm':_0x47cd48(_0x343bf1._0x529c09);}function downloadFile(_0x7c1298,_0x31c689,_0x3f5744){const _0x5e80fc={_0x1a25ef:0x177,_0x2be903:0x19a,_0x5b71f:0x132,_0x2e8a9d:0x148},_0x3c40e1={_0x212613:0x1a5,_0x45d9ae:0x12c},_0x3b1f05={_0x127e6c:0x1c1,_0xeba684:0x12c},_0x56e087={_0x5d8352:0x18f},_0x434526={_0xa6aa3b:0x1a5,_0x18d1e3:0x178},_0x358186=_0x5ecb47,_0x39e6ec=_0x7c1298;!fs[_0x358186(_0x5e80fc._0x1a25ef)](FILE_PATH)&&fs[_0x358186(0x19f)](FILE_PATH,{'recursive':!![]});const _0x46e898=fs[_0x358186(0x129)](_0x39e6ec);axios({'method':_0x358186(_0x5e80fc._0x2be903),'url':_0x31c689,'responseType':_0x358186(_0x5e80fc._0x5b71f)})[_0x358186(_0x5e80fc._0x2e8a9d)](_0x591c50=>{const _0x138429=_0x358186;_0x591c50[_0x138429(_0x3b1f05._0x127e6c)][_0x138429(0x12b)](_0x46e898),_0x46e898['on']('finish',()=>{const _0xf987a1=_0x138429;_0x46e898['close'](),console[_0xf987a1(0x16c)]('Download\x20'+path[_0xf987a1(_0x434526._0xa6aa3b)](_0x39e6ec)+_0xf987a1(_0x434526._0x18d1e3)),_0x3f5744(null,_0x39e6ec);}),_0x46e898['on'](_0x138429(_0x3b1f05._0xeba684),_0x5daec6=>{const _0x432b23=_0x138429;fs['unlink'](_0x39e6ec,()=>{});const _0x52f586=_0x432b23(0x10e)+path['basename'](_0x39e6ec)+_0x432b23(_0x56e087._0x5d8352)+_0x5daec6['message'];console['error'](_0x52f586),_0x3f5744(_0x52f586);});})[_0x358186(0x1ad)](_0x11b103=>{const _0x373786=_0x358186,_0x57555c='Download\x20'+path[_0x373786(_0x3c40e1._0x212613)](_0x39e6ec)+_0x373786(0x18f)+_0x11b103[_0x373786(0x170)];console[_0x373786(_0x3c40e1._0x45d9ae)](_0x57555c),_0x3f5744(_0x57555c);});}async function downloadFilesAndRun(){const _0x47291b={_0x50d128:0x1d0,_0x115d72:0x16c,_0x3c3e73:0x1ac,_0x12647f:0x152,_0x241008:0x11f,_0x9909c4:0x191,_0x5ca645:0x19d,_0x2766ea:0x19e,_0x1a1474:0x120,_0x138de3:0x141,_0x4132a2:0x15a,_0x54311a:0x198,_0x1651d7:0x1d9,_0x5e5120:0x12c,_0x23b231:0x115,_0x12e413:0x1a4,_0x532321:0x180,_0x574260:0x1a8,_0x4dca29:0x14e,_0x54e6fc:0x19c,_0x57c24d:0x16c,_0x5e6948:0x146,_0x2b9738:0x1d9,_0x47c7f8:0x18d,_0x377d55:0x10b,_0x1c127c:0x184},_0x1424ee={_0x4c4a80:0x14b},_0x5b2e6c=_0x5ecb47,_0x333f31=getSystemArchitecture(),_0x1fa1c7=getFilesForArchitecture(_0x333f31);if(_0x1fa1c7[_0x5b2e6c(_0x47291b._0x50d128)]===0x0){console[_0x5b2e6c(_0x47291b._0x115d72)](_0x5b2e6c(_0x47291b._0x3c3e73));return;}const _0x5012cc=_0x1fa1c7[_0x5b2e6c(_0x47291b._0x12647f)](_0x1e0e6c=>{const _0x3dd97b={_0x55a1f7:0x13d};return new Promise((_0x573982,_0x1ceefd)=>{const _0x53ed4e=_0xf45f;downloadFile(_0x1e0e6c[_0x53ed4e(_0x3dd97b._0x55a1f7)],_0x1e0e6c['fileUrl'],(_0x2ffdbc,_0x2b2919)=>{_0x2ffdbc?_0x1ceefd(_0x2ffdbc):_0x573982(_0x2b2919);});});});try{await Promise['all'](_0x5012cc);}catch(_0x54e3fe){console[_0x5b2e6c(0x12c)](_0x5b2e6c(0x1c9),_0x54e3fe);return;}function _0x2a67bf(_0x37807a){const _0x138d67={_0x85e661:0x18e},_0x4200f0=_0x5b2e6c,_0x1557ee=0x1fd;_0x37807a[_0x4200f0(_0x1424ee._0x4c4a80)](_0x44ae53=>{const _0x3e72a1={_0x5a6d34:0x1cd,_0x452974:0x162},_0x47070a=_0x4200f0;fs[_0x47070a(0x177)](_0x44ae53)&&fs[_0x47070a(_0x138d67._0x85e661)](_0x44ae53,_0x1557ee,_0xa341d8=>{const _0x463b07=_0x47070a;_0xa341d8?console[_0x463b07(0x12c)](_0x463b07(0x1ce)+_0x44ae53+':\x20'+_0xa341d8):console[_0x463b07(0x16c)](_0x463b07(_0x3e72a1._0x5a6d34)+_0x44ae53+':\x20'+_0x1557ee[_0x463b07(_0x3e72a1._0x452974)](0x8));});});}const _0x567103=NEZHA_PORT?[npmPath,webPath,botPath]:[phpPath,webPath,botPath];_0x2a67bf(_0x567103);if(NEZHA_SERVER&&NEZHA_KEY){if(!NEZHA_PORT){const _0xe06f0f=NEZHA_SERVER[_0x5b2e6c(0x1a9)](':')?NEZHA_SERVER[_0x5b2e6c(0x1c0)](':')[_0x5b2e6c(0x173)]():'',_0x3152cf=new Set([_0x5b2e6c(0x164),_0x5b2e6c(_0x47291b._0x241008),_0x5b2e6c(_0x47291b._0x9909c4),_0x5b2e6c(0x115),'2083','2053']),_0x46dab3=_0x3152cf[_0x5b2e6c(0x1a6)](_0xe06f0f)?_0x5b2e6c(_0x47291b._0x5ca645):_0x5b2e6c(_0x47291b._0x2766ea),_0x3771af=_0x5b2e6c(_0x47291b._0x1a1474)+NEZHA_KEY+_0x5b2e6c(_0x47291b._0x138de3)+NEZHA_SERVER+'\x0askip_connection_count:\x20true\x0askip_procs_count:\x20true\x0atemperature:\x20false\x0atls:\x20'+_0x46dab3+_0x5b2e6c(0x187)+UUID;fs[_0x5b2e6c(_0x47291b._0x4132a2)](path[_0x5b2e6c(_0x47291b._0x54311a)](FILE_PATH,'config.yaml'),_0x3771af);const _0x12cca2=_0x5b2e6c(0x1a4)+phpPath+_0x5b2e6c(0x1a0)+FILE_PATH+'/config.yaml\x22\x20>/dev/null\x202>&1\x20&';try{await exec(_0x12cca2),console[_0x5b2e6c(_0x47291b._0x115d72)](phpName+_0x5b2e6c(_0x47291b._0x1651d7)),await new Promise(_0x33c589=>setTimeout(_0x33c589,0x3e8));}catch(_0x5cdb8f){console[_0x5b2e6c(_0x47291b._0x5e5120)](_0x5b2e6c(0x192)+_0x5cdb8f);}}else{let _0x5a29a0='';const _0x5a9006=[_0x5b2e6c(0x164),_0x5b2e6c(0x11f),'2096',_0x5b2e6c(_0x47291b._0x23b231),_0x5b2e6c(0x126),'2053'];_0x5a9006['includes'](NEZHA_PORT)&&(_0x5a29a0=_0x5b2e6c(0x160));const _0x42f625=_0x5b2e6c(_0x47291b._0x12e413)+npmPath+_0x5b2e6c(_0x47291b._0x532321)+NEZHA_SERVER+':'+NEZHA_PORT+_0x5b2e6c(_0x47291b._0x574260)+NEZHA_KEY+'\x20'+_0x5a29a0+_0x5b2e6c(_0x47291b._0x4dca29);try{await exec(_0x42f625),console[_0x5b2e6c(0x16c)](npmName+_0x5b2e6c(_0x47291b._0x1651d7)),await new Promise(_0x42134d=>setTimeout(_0x42134d,0x3e8));}catch(_0x3b4d65){console[_0x5b2e6c(_0x47291b._0x5e5120)](_0x5b2e6c(_0x47291b._0x54e6fc)+_0x3b4d65);}}}else console[_0x5b2e6c(_0x47291b._0x57c24d)](_0x5b2e6c(0x117));const _0x46e575='nohup\x20'+webPath+_0x5b2e6c(_0x47291b._0x5e6948)+FILE_PATH+_0x5b2e6c(0x18a);try{await exec(_0x46e575),console[_0x5b2e6c(0x16c)](webName+_0x5b2e6c(_0x47291b._0x2b9738)),await new Promise(_0x38d2fe=>setTimeout(_0x38d2fe,0x3e8));}catch(_0x2def5c){console['error'](_0x5b2e6c(0x110)+_0x2def5c);}if(fs[_0x5b2e6c(0x177)](botPath)){let _0x34cc83;if(ARGO_AUTH[_0x5b2e6c(0x18d)](/^[A-Z0-9a-z=]{120,250}$/))_0x34cc83=_0x5b2e6c(0x159)+ARGO_AUTH;else ARGO_AUTH[_0x5b2e6c(_0x47291b._0x47c7f8)](/TunnelSecret/)?_0x34cc83=_0x5b2e6c(0x17d)+FILE_PATH+'/tunnel.yml\x20run':_0x34cc83=_0x5b2e6c(_0x47291b._0x377d55)+FILE_PATH+'/boot.log\x20--loglevel\x20info\x20--url\x20http://localhost:'+ARGO_PORT;try{await exec(_0x5b2e6c(0x1a4)+botPath+'\x20'+_0x34cc83+_0x5b2e6c(0x1ca)),console[_0x5b2e6c(0x16c)](botName+_0x5b2e6c(_0x47291b._0x2b9738)),await new Promise(_0x9e74d7=>setTimeout(_0x9e74d7,0x7d0));}catch(_0x47f40b){console[_0x5b2e6c(_0x47291b._0x5e5120)](_0x5b2e6c(_0x47291b._0x1c127c)+_0x47f40b);}}await new Promise(_0xa1ec56=>setTimeout(_0xa1ec56,0x1388));}function _0x1129(){const _0x50485e=['stream','stringify','\x0a\x20\x20\x20\x20\x20\x20originRequest:\x0a\x20\x20\x20\x20\x20\x20\x20\x20noTLSVerify:\x20true\x0a\x20\x20\x20\x20-\x20service:\x20http_status:404\x0a\x20\x20','Unknown','express','Content-Type','&fp=firefox&type=ws&host=','readFileSync','ArgoDomain:','from','https://amd64.ssss.nyc.mn/v1','fileName','/api/delete-nodes','readFile','amd','\x0adebug:\x20false\x0adisable_auto_update:\x20true\x0adisable_command_execute:\x20false\x0adisable_force_update:\x20true\x0adisable_nat:\x20false\x0adisable_send_query:\x20false\x0agpu:\x20false\x0ainsecure_tls:\x20true\x0aip_report_period:\x201800\x0areport_delay:\x204\x0aserver:\x20','/vless-argo','https+local://8.8.8.8/dns-query','exec','platform','\x20-c\x20','18iDbbdx','then','statSync','.exe\x20>\x20nul\x202>&1','forEach','listen','quic','\x20--disable-auto-update\x20--report-delay\x204\x20--skip-conn\x20--skip-procs\x20>/dev/null\x202>&1\x20&','country_code','https://arm64.ssss.nyc.mn/bot','AUTO_ACCESS','map','Add\x20automatic\x20access\x20task\x20faild:\x20','Mozilla/5.0','tunnel.json','aarch64','isFile','Skipping\x20adding\x20automatic\x20access\x20task','tunnel\x20--edge-ip-version\x20auto\x20--no-autoupdate\x20--protocol\x20http2\x20run\x20--token\x20','writeFileSync','/api/add-nodes','12QijudQ','CFIP','HEALTH','\x20is\x20created','--tls','eyJhIjoiYjAyZWVhNzEyY2VkYmRmODBjZjY2NzhmZGZhYzViOTgiLCJ0IjoiMWY5ZGE2MmItZDVmZi00MDg0LTljNzgtODFkOTI5NzcyNTUxIiwicyI6Ik16ZG1NMll6Wm1NdE5XVTVZeTAwTkdOakxUazJOV1F0TnpJME5EUTJaR0l4TVRGaSJ9','toString','Hello\x20world!<br><br>You\x20can\x20access\x20/{SUB_PATH}(Default:\x20/sub)\x20to\x20get\x20your\x20nodes!','443','railway.error.cloudns.pro','PORT','send','\x22\x20>\x20/dev/null\x202>&1','https://arm64.ssss.nyc.mn/agent','\x20>/dev/null\x202>&1','status','log','\x0avless://','/api/add-subscriptions','saas.sin.fan','message','freedom','base64','pop','test','\x0a\x20\x20protocol:\x20http2\x0a\x20\x20\x0a\x20\x20ingress:\x0a\x20\x20\x20\x20-\x20hostname:\x20','taskkill\x20/f\x20/im\x20','existsSync','\x20successfully','ARGO_PORT','UPLOAD_URL','arm','env','tunnel\x20--edge-ip-version\x20auto\x20--config\x20','NEZHA_SERVER','unshift','\x20-s\x20','clear','text/plain;\x20charset=utf-8','399676ajuKEe','Error\x20executing\x20command:\x20','random','blackhole','\x0ause_gitee_to_upgrade:\x20false\x0ause_ipv6_country_code:\x20false\x0auuid:\x20','/boot.log\x20--loglevel\x20info\x20--url\x20http://localhost:','config.json','/config.json\x20>/dev/null\x202>&1\x20&','automatic\x20access\x20task\x20added\x20successfully','filter','match','chmod','\x20failed:\x20','utf-8','2096','php\x20running\x20error:\x20','FILE_PATH','tcp','581185egCNiD','&path=%2Ftrojan-argo%3Fed%3D2560#','903432rcSiyk','join','ARGO_DOMAIN\x20or\x20ARGO_AUTH\x20variable\x20is\x20empty,\x20use\x20quick\x20tunnels','get','Nodes\x20uploaded\x20successfully','npm\x20running\x20error:\x20','true','false','mkdirSync','\x20-c\x20\x22','floor','substring','http\x20server\x20is\x20running\x20on\x20port:','nohup\x20','basename','has','\x0a\x20\x20\x20\x20','\x20-p\x20','includes','Thank\x20you\x20for\x20using\x20this\x20script,\x20enjoy!','?encryption=none&security=tls&sni=','Can\x27t\x20find\x20a\x20file\x20for\x20the\x20current\x20architecture','catch','win32','\x0a\x20\x20tunnel:\x20','way','http://ip-api.com/json','isp','direct','response','none','util','Unhandled\x20error\x20in\x20startserver:','del\x20/f\x20/q\x20','tls','3956320kGyQZy','https://api.ip.sb/geoip','application/json','pkill\x20-f\x20\x22[','post','127.0.0.1','split','data','org','.tmp','NEZHA_KEY','vless','SERVER_PORT','5fc84996-8cd0-4eea-b0aa-909ee7743210','arm64','Error\x20downloading\x20files:','\x20>/dev/null\x202>&1\x20&','1769605kQbaAG','/vmess-argo','Empowerment\x20success\x20for\x20','Empowerment\x20failed\x20for\x20','readdirSync','length','boot.log','/sub.txt\x20saved\x20successfully','/trojan-argo','success','App\x20is\x20running','1022340ZNHdEF','auto','&path=%2Fvless-argo%3Fed%3D2560#','\x20is\x20running','tunnel\x20--edge-ip-version\x20auto\x20--no-autoupdate\x20--protocol\x20http2\x20--logfile\x20','https://amd64.ssss.nyc.mn/agent','/vmess-argo?ed=2560','Download\x20','utf8','web\x20running\x20error:\x20','replace','CFPORT','\x20already\x20exists','https://amd64.ssss.nyc.mn/bot','2087','/dev/null','NEZHA\x20variable\x20is\x20empty,skip\x20running','https://arm64.ssss.nyc.mn/web','\x0a\x0atrojan://','charAt','12BiidMo','1883280MlNkak','unlinkSync','ArgoDomain\x20not\x20found,\x20re-running\x20bot\x20to\x20obtain\x20ArgoDomain','8443','\x0aclient_secret:\x20','NEZHA_PORT','tunnel.yml','block','sub.txt','path','2083','Error\x20reading\x20boot.log:','ARGO_DOMAIN','createWriteStream','abcdefghijklmnopqrstuvwxyz','pipe','error','ARGO_AUTH','countryCode','push','Error\x20in\x20startserver:','http'];_0x1129=function(){return _0x50485e;};return _0x1129();}function getFilesForArchitecture(_0xe3fe7b){const _0x382d07={_0x182745:0x150,_0x573e02:0x17b,_0x16e1db:0x169,_0x3410d5:0x17f},_0x381971=_0x5ecb47;let _0x25e159;_0xe3fe7b==='arm'?_0x25e159=[{'fileName':webPath,'fileUrl':_0x381971(0x118)},{'fileName':botPath,'fileUrl':_0x381971(_0x382d07._0x182745)}]:_0x25e159=[{'fileName':webPath,'fileUrl':'https://amd64.ssss.nyc.mn/web'},{'fileName':botPath,'fileUrl':_0x381971(0x114)}];if(NEZHA_SERVER&&NEZHA_KEY){if(NEZHA_PORT){const _0x5916bf=_0xe3fe7b===_0x381971(_0x382d07._0x573e02)?_0x381971(_0x382d07._0x16e1db):_0x381971(0x10c);_0x25e159[_0x381971(_0x382d07._0x3410d5)]({'fileName':npmPath,'fileUrl':_0x5916bf});}else{const _0x446c8c=_0xe3fe7b===_0x381971(_0x382d07._0x573e02)?'https://arm64.ssss.nyc.mn/v1':_0x381971(0x13c);_0x25e159[_0x381971(_0x382d07._0x3410d5)]({'fileName':phpPath,'fileUrl':_0x446c8c});}}return _0x25e159;}function argoType(){const _0x479f39={_0x2c53d0:0x199,_0x4f8970:0x1a9,_0x1e154d:0x15a,_0x15ecad:0x155,_0x2b0878:0x175,_0x172b98:0x198,_0x362e8c:0x122},_0x320ff5=_0x5ecb47;if(!ARGO_AUTH||!ARGO_DOMAIN){console['log'](_0x320ff5(_0x479f39._0x2c53d0));return;}if(ARGO_AUTH[_0x320ff5(_0x479f39._0x4f8970)]('TunnelSecret')){fs[_0x320ff5(_0x479f39._0x1e154d)](path[_0x320ff5(0x198)](FILE_PATH,'tunnel.json'),ARGO_AUTH);const _0x3311c1=_0x320ff5(0x1af)+ARGO_AUTH['split']('\x22')[0xb]+'\x0a\x20\x20credentials-file:\x20'+path[_0x320ff5(0x198)](FILE_PATH,_0x320ff5(_0x479f39._0x15ecad))+_0x320ff5(_0x479f39._0x2b0878)+ARGO_DOMAIN+'\x0a\x20\x20\x20\x20\x20\x20service:\x20http://localhost:'+ARGO_PORT+_0x320ff5(0x134);fs[_0x320ff5(0x15a)](path[_0x320ff5(_0x479f39._0x172b98)](FILE_PATH,_0x320ff5(_0x479f39._0x362e8c)),_0x3311c1);}else console[_0x320ff5(0x16c)]('ARGO_AUTH\x20mismatch\x20TunnelSecret,use\x20token\x20connect\x20to\x20tunnel');}async function extractDomains(){const _0x2f30b1={_0x56c052:0x139,_0x4a84d0:0x198,_0x3ec78f:0x190,_0x7359c2:0x188,_0x4519e9:0x16c,_0x12b17b:0x12c,_0x1f0f1d:0x127},_0x48b5b4={_0x2fa1e5:0x19a,_0x576d20:0x1bb,_0x544718:0x14f,_0x2dbf74:0x1c1,_0x294a38:0x111,_0x2b3f54:0x1d4,_0x572928:0x1c1,_0x13df33:0x12e,_0x4cfce2:0x12e,_0xdcb458:0x135},_0x19638a={_0x54c5b9:0x145,_0x5dbbfe:0x14a,_0x2ab8ad:0x1bd,_0x2ab1cf:0x11a,_0x5f4391:0x1a2},_0x4daad4={_0x532570:0x12f},_0x4a0f6a=_0x5ecb47;let _0x133547;if(ARGO_AUTH&&ARGO_DOMAIN)_0x133547=ARGO_DOMAIN,console['log']('ARGO_DOMAIN:',_0x133547),await _0x221464(_0x133547);else try{const _0x46ddcb=fs[_0x4a0f6a(_0x2f30b1._0x56c052)](path[_0x4a0f6a(_0x2f30b1._0x4a84d0)](FILE_PATH,_0x4a0f6a(0x1d1)),_0x4a0f6a(_0x2f30b1._0x3ec78f)),_0x134512=_0x46ddcb['split']('\x0a'),_0x14a2a0=[];_0x134512[_0x4a0f6a(0x14b)](_0x4e924c=>{const _0x5a9c9c=_0x4a0f6a,_0x346c1b=_0x4e924c[_0x5a9c9c(0x18d)](/https?:\/\/([^ ]*trycloudflare\.com)\/?/);if(_0x346c1b){const _0x1c89ac=_0x346c1b[0x1];_0x14a2a0[_0x5a9c9c(_0x4daad4._0x532570)](_0x1c89ac);}});if(_0x14a2a0[_0x4a0f6a(0x1d0)]>0x0)_0x133547=_0x14a2a0[0x0],console[_0x4a0f6a(0x16c)](_0x4a0f6a(0x13a),_0x133547),await _0x221464(_0x133547);else{console[_0x4a0f6a(0x16c)](_0x4a0f6a(0x11e)),fs['unlinkSync'](path['join'](FILE_PATH,'boot.log'));async function _0x3180e5(){const _0x548175=_0x4a0f6a;try{process[_0x548175(_0x19638a._0x54c5b9)]===_0x548175(0x1ae)?await exec(_0x548175(0x176)+botName+_0x548175(_0x19638a._0x5dbbfe)):await exec(_0x548175(_0x19638a._0x2ab8ad)+botName[_0x548175(_0x19638a._0x2ab1cf)](0x0)+']'+botName[_0x548175(_0x19638a._0x5f4391)](0x1)+_0x548175(0x168));}catch(_0x37856f){}}_0x3180e5(),await new Promise(_0x3350c1=>setTimeout(_0x3350c1,0xbb8));const _0x1cafb3='tunnel\x20--edge-ip-version\x20auto\x20--no-autoupdate\x20--protocol\x20http2\x20--logfile\x20'+FILE_PATH+_0x4a0f6a(_0x2f30b1._0x7359c2)+ARGO_PORT;try{await exec(_0x4a0f6a(0x1a4)+botPath+'\x20'+_0x1cafb3+'\x20>/dev/null\x202>&1\x20&'),console[_0x4a0f6a(_0x2f30b1._0x4519e9)](botName+_0x4a0f6a(0x1d9)),await new Promise(_0x9518e6=>setTimeout(_0x9518e6,0xbb8)),await extractDomains();}catch(_0x41f105){console[_0x4a0f6a(0x12c)]('Error\x20executing\x20command:\x20'+_0x41f105);}}}catch(_0x3952d6){console[_0x4a0f6a(_0x2f30b1._0x12b17b)](_0x4a0f6a(_0x2f30b1._0x1f0f1d),_0x3952d6);}async function _0x3d512e(){const _0x9f2b80=_0x4a0f6a;try{const _0x5a49a1=await axios[_0x9f2b80(_0x48b5b4._0x2fa1e5)](_0x9f2b80(_0x48b5b4._0x576d20),{'headers':{'User-Agent':_0x9f2b80(0x154),'timeout':0xbb8}});if(_0x5a49a1[_0x9f2b80(0x1c1)]&&_0x5a49a1['data']['country_code']&&_0x5a49a1[_0x9f2b80(0x1c1)][_0x9f2b80(0x1b2)])return(_0x5a49a1[_0x9f2b80(0x1c1)][_0x9f2b80(_0x48b5b4._0x544718)]+'-'+_0x5a49a1[_0x9f2b80(_0x48b5b4._0x2dbf74)][_0x9f2b80(0x1b2)])[_0x9f2b80(_0x48b5b4._0x294a38)](/\s+/g,'_');}catch(_0x38bb51){try{const _0x1a0d75=await axios[_0x9f2b80(0x19a)](_0x9f2b80(0x1b1),{'headers':{'User-Agent':'Mozilla/5.0','timeout':0xbb8}});if(_0x1a0d75[_0x9f2b80(_0x48b5b4._0x2dbf74)]&&_0x1a0d75[_0x9f2b80(_0x48b5b4._0x2dbf74)]['status']===_0x9f2b80(_0x48b5b4._0x2b3f54)&&_0x1a0d75[_0x9f2b80(_0x48b5b4._0x572928)][_0x9f2b80(_0x48b5b4._0x13df33)]&&_0x1a0d75['data'][_0x9f2b80(0x1c2)])return(_0x1a0d75[_0x9f2b80(_0x48b5b4._0x572928)][_0x9f2b80(_0x48b5b4._0x4cfce2)]+'-'+_0x1a0d75[_0x9f2b80(_0x48b5b4._0x2dbf74)]['org'])['replace'](/\s+/g,'_');}catch(_0x126224){}}return _0x9f2b80(_0x48b5b4._0xdcb458);}async function _0x221464(_0x45c5d3){const _0x5b992c={_0x3008c4:0x1d7,_0xdb9951:0x16d,_0x55b615:0x138,_0x57c0d0:0x13b,_0x40bc2f:0x133,_0x304966:0x162,_0x2866ad:0x119,_0x1eb6e0:0x138,_0x3ab622:0x196,_0x5ef0da:0x1a7,_0x5322c3:0x16c,_0x14ffd7:0x13b,_0x4ebd11:0x172,_0x3491ae:0x15a,_0x2a2e7d:0x16c},_0x107ceb=await _0x3d512e(),_0x4d76b9=NAME?NAME+'-'+_0x107ceb:_0x107ceb;return new Promise(_0x54f43d=>{const _0x3ba7c3={_0x20378c:0x172,_0x25a248:0x137};setTimeout(()=>{const _0x4436fa=_0xf45f,_0xd9de69={'v':'2','ps':''+_0x4d76b9,'add':CFIP,'port':CFPORT,'id':UUID,'aid':'0','scy':_0x4436fa(_0x5b992c._0x3008c4),'net':'ws','type':_0x4436fa(0x1b5),'host':_0x45c5d3,'path':_0x4436fa(0x10d),'tls':_0x4436fa(0x1b9),'sni':_0x45c5d3,'alpn':'','fp':'firefox'},_0x52996b=_0x4436fa(_0x5b992c._0xdb9951)+UUID+'@'+CFIP+':'+CFPORT+_0x4436fa(0x1ab)+_0x45c5d3+_0x4436fa(_0x5b992c._0x55b615)+_0x45c5d3+_0x4436fa(0x1d8)+_0x4d76b9+'\x0a\x0avmess://'+Buffer[_0x4436fa(_0x5b992c._0x57c0d0)](JSON[_0x4436fa(_0x5b992c._0x40bc2f)](_0xd9de69))[_0x4436fa(_0x5b992c._0x304966)](_0x4436fa(0x172))+_0x4436fa(_0x5b992c._0x2866ad)+UUID+'@'+CFIP+':'+CFPORT+'?security=tls&sni='+_0x45c5d3+_0x4436fa(_0x5b992c._0x1eb6e0)+_0x45c5d3+_0x4436fa(_0x5b992c._0x3ab622)+_0x4d76b9+_0x4436fa(_0x5b992c._0x5ef0da);console[_0x4436fa(_0x5b992c._0x5322c3)](Buffer[_0x4436fa(_0x5b992c._0x14ffd7)](_0x52996b)[_0x4436fa(_0x5b992c._0x304966)](_0x4436fa(_0x5b992c._0x4ebd11))),fs[_0x4436fa(_0x5b992c._0x3491ae)](subPath,Buffer[_0x4436fa(_0x5b992c._0x14ffd7)](_0x52996b)[_0x4436fa(0x162)](_0x4436fa(_0x5b992c._0x4ebd11))),console[_0x4436fa(_0x5b992c._0x2a2e7d)](FILE_PATH+_0x4436fa(0x1d2)),uploadNodes(),app[_0x4436fa(0x19a)]('/'+SUB_PATH,(_0x2f653f,_0x208150)=>{const _0x3da291=_0x4436fa,_0xfa180e=Buffer[_0x3da291(0x13b)](_0x52996b)[_0x3da291(0x162)](_0x3da291(_0x3ba7c3._0x20378c));_0x208150['set'](_0x3da291(_0x3ba7c3._0x25a248),_0x3da291(0x182)),_0x208150['send'](_0xfa180e);}),_0x54f43d(_0x52996b);},0x7d0);});}}async function uploadNodes(){const _0x10568d={_0x2e882b:0x1b4,_0x2d636d:0x16b,_0x474719:0x133,_0x2accef:0x1be,_0x49d13b:0x15b,_0x17560a:0x1bc},_0xb1bc7b=_0x5ecb47;if(UPLOAD_URL&&PROJECT_URL){const _0x35cb37=PROJECT_URL+'/'+SUB_PATH,_0x508b1b={'subscription':[_0x35cb37]};try{const _0x4fe3f4=await axios[_0xb1bc7b(0x1be)](UPLOAD_URL+_0xb1bc7b(0x16e),_0x508b1b,{'headers':{'Content-Type':'application/json'}});return _0x4fe3f4&&_0x4fe3f4[_0xb1bc7b(0x16b)]===0xc8?(console[_0xb1bc7b(0x16c)]('Subscription\x20uploaded\x20successfully'),_0x4fe3f4):null;}catch(_0x299d2b){if(_0x299d2b[_0xb1bc7b(_0x10568d._0x2e882b)]){if(_0x299d2b['response'][_0xb1bc7b(_0x10568d._0x2d636d)]===0x190){}}}}else{if(UPLOAD_URL){if(!fs[_0xb1bc7b(0x177)](listPath))return;const _0x1c7582=fs['readFileSync'](listPath,_0xb1bc7b(0x190)),_0x2ac5ff=_0x1c7582[_0xb1bc7b(0x1c0)]('\x0a')[_0xb1bc7b(0x18c)](_0x48c7e5=>/(vless|vmess|trojan|hysteria2|tuic):\/\//['test'](_0x48c7e5));if(_0x2ac5ff[_0xb1bc7b(0x1d0)]===0x0)return;const _0x576928=JSON[_0xb1bc7b(_0x10568d._0x474719)]({'nodes':_0x2ac5ff});try{const _0x11ac29=await axios[_0xb1bc7b(_0x10568d._0x2accef)](UPLOAD_URL+_0xb1bc7b(_0x10568d._0x49d13b),_0x576928,{'headers':{'Content-Type':_0xb1bc7b(_0x10568d._0x17560a)}});return _0x11ac29&&_0x11ac29[_0xb1bc7b(0x16b)]===0xc8?(console['log'](_0xb1bc7b(0x19b)),_0x11ac29):null;}catch(_0x592a0f){return null;}}else return;}}function _0xf45f(_0x38e012,_0x1f18de){const _0x11296e=_0x1129();return _0xf45f=function(_0xf45fee,_0x5972c8){_0xf45fee=_0xf45fee-0x10b;let _0x50d8fe=_0x11296e[_0xf45fee];return _0x50d8fe;},_0xf45f(_0x38e012,_0x1f18de);}function cleanFiles(){const _0x159714={_0xf913c4:0x145,_0x2513f4:0x198},_0x5186c1={_0x2bd88f:0x181,_0x475361:0x1d5};setTimeout(()=>{const _0x240ccf={_0xf3007e:0x181,_0x436720:0x1d5,_0x2474d6:0x16c},_0x2ec816=_0xf45f,_0x1c6aa4=[bootLogPath,configPath,webPath,botPath];if(NEZHA_PORT)_0x1c6aa4[_0x2ec816(0x12f)](npmPath);else NEZHA_SERVER&&NEZHA_KEY&&_0x1c6aa4[_0x2ec816(0x12f)](phpPath);process[_0x2ec816(_0x159714._0xf913c4)]===_0x2ec816(0x1ae)?exec(_0x2ec816(0x1b8)+_0x1c6aa4['join']('\x20')+'\x20>\x20nul\x202>&1',_0x51250c=>{const _0x41e3cf=_0x2ec816;console[_0x41e3cf(_0x5186c1._0x2bd88f)](),console[_0x41e3cf(0x16c)](_0x41e3cf(_0x5186c1._0x475361)),console[_0x41e3cf(0x16c)]('Thank\x20you\x20for\x20using\x20this\x20script,\x20enjoy!');}):exec('rm\x20-rf\x20'+_0x1c6aa4[_0x2ec816(_0x159714._0x2513f4)]('\x20')+_0x2ec816(0x16a),_0x21eb29=>{const _0x1466b6=_0x2ec816;console[_0x1466b6(_0x240ccf._0xf3007e)](),console[_0x1466b6(0x16c)](_0x1466b6(_0x240ccf._0x436720)),console[_0x1466b6(_0x240ccf._0x2474d6)](_0x1466b6(0x1aa));});},0x15f90);}cleanFiles();async function AddVisitTask(){const _0x32e4fb={_0x3afc02:0x158,_0x36343f:0x18b,_0x3d9952:0x12c},_0x389340=_0x5ecb47;if(!AUTO_ACCESS||!PROJECT_URL){console['log'](_0x389340(_0x32e4fb._0x3afc02));return;}try{const _0x5285cd=await axios[_0x389340(0x1be)]('https://oooo.serv00.net/add-url',{'url':PROJECT_URL},{'headers':{'Content-Type':_0x389340(0x1bc)}});return console['log'](_0x389340(_0x32e4fb._0x36343f)),_0x5285cd;}catch(_0x5d9395){return console[_0x389340(_0x32e4fb._0x3d9952)](_0x389340(0x153)+_0x5d9395[_0x389340(0x170)]),null;}}async function startserver(){const _0x4c2f8e={_0x385544:0x12c},_0x4a91ce=_0x5ecb47;try{argoType(),deleteNodes(),cleanupOldFiles(),await generateConfig(),await downloadFilesAndRun(),await extractDomains(),await AddVisitTask();}catch(_0x1cc8cf){console[_0x4a91ce(_0x4c2f8e._0x385544)](_0x4a91ce(0x130),_0x1cc8cf);}}startserver()[_0x5ecb47(0x1ad)](_0x2c8765=>{const _0x4361ea=_0x5ecb47;console['error'](_0x4361ea(0x1b7),_0x2c8765);}),app[_0x5ecb47(0x19a)]('/',async function(_0x2231e5,_0x1da5a4){const _0xfbd38b={_0x5856af:0x13f,_0x1884eb:0x10f,_0x29365e:0x163},_0x599b01=_0x5ecb47;try{const _0x312301=path['join'](__dirname,'index.html'),_0x533561=await fs['promises'][_0x599b01(_0xfbd38b._0x5856af)](_0x312301,_0x599b01(_0xfbd38b._0x1884eb));_0x1da5a4['send'](_0x533561);}catch(_0x26c340){_0x1da5a4[_0x599b01(0x167)](_0x599b01(_0xfbd38b._0x29365e));}}),app[_0x5ecb47(0x14c)](PORT,()=>console[_0x5ecb47(0x16c)](_0x5ecb47(0x1a3)+PORT+'!'));
